<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Phalcon Framework. A full-stack PHP framework delivered as a PHP extension, offering lower resource consumption and high performance."><meta name=author content="Phalcon Team"><link href=https://docs.phalcon.io/3.4/cache/ rel=canonical><link href=../validation/ rel=prev><link href=../config/ rel=next><link rel=icon href=../assets/images/favicon.ico><meta name=generator content="mkdocs-1.5.3, mkdocs-material-9.5.2"><title>Cache - Phalcon Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.50c56a3b.min.css><link rel=stylesheet href=../assets/stylesheets/palette.06af60db.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Titillium+Web:300,300i,400,400i,700,700i%7CSource+Code+Pro:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Titillium Web";--md-code-font:"Source Code Pro"}</style><link rel=stylesheet href=../assets/css/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script><!-- Fanart --><!--

Phalcon Framework

A full-stack PHP framework delivered as a PHP extension,
offering lower resource consumption and high performance.

<3 Phalcon Team

                         ..
                         ....
   %                  ,   ......
     %%%               ,,  .......
      %%%%%%           ,,,,.........
       %%%%%%%%&        ,,,,,.........,
    /    %%%%%%%%%%      ,,,,,,..........
      //  %%%%%%%%%%%%%    ,,,,,,..........
       //// %%%%%%%%%%%%%%%  ,,,,,,..........,
         ////%%%%%%%%%%%%%%%%%%,,,,,,...........
          ///////%%%%%%%%%%%%%%%%%%,,,,...........
            ////////%%%%%%%%%%%%%%%%%%/,,...........
          %%%%/////////(%%%%%%%%%%%%%%%%%%,..........
            %%%%%//////////%%%%%%%%%%%%%%%%%%........(
               %%%%///////////(%%%%%%%%%%%%%%%%.......(
                 %%%%%////////////%%%%%%%%%%%%%%%.....//
                ....%%%%%////////////#%%%%%%%%%%%%%....//
                   .......(%/////////////%%%%%%%%%%%%..  /
                      ...........///////********/%%%%%..
                     ,,,,.............,/***************.
                         ,,,,,.............************......,/(
                               ,,,,,,..........********.....//////////
                              ((((((((**((((((((((((((*.....///////////
                                  %*********.../(((((((..........///(/#/
                               **********..........#%%%           ..*%%%
                            *********(..........%%%                  %%%
                         *********/..........%%%                     %%
                   %    *******%%.........%%%%
                  %   ******%%%%...../.*((((((   %%%%
                     ****%%%%%%.....///* (((((((%%%%%
                    ***&%%%%%%.....////* ((((((((%%  %
                    *  &%%%%%#..../////*  (((     %
                       &%%%%%....//////*           %
                        %%%% ....//////***   %%%
                     (  %%%   ...*/////*****%%%%
                     (   %     ...  //(*****/%%
                      (  &      ..   // ***  %%
                                 .     /      %
--><!-- Fanart --></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#improving-performance-with-cache class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class="md-header md-header--shadow md-header--lifted" data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="Phalcon Documentation" class="md-header__button md-logo" aria-label="Phalcon Documentation" data-md-component=logo> <img src=https://assets.phalcon.io/phalcon/images/svg/phalcon-logo-white-105x40.svg alt=logo> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> Phalcon Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> Cache </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media=(prefers-color-scheme) data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8v2m9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1 0 1.71-1.39 3.1-3.1 3.1h-4V17h4a5 5 0 0 0 5-5 5 5 0 0 0-5-5Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme=default data-md-color-primary=custom data-md-color-accent=teal aria-label="Switch to dark mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_2 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> <input class=md-option data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme=slate data-md-color-primary=custom data-md-color-accent=teal aria-label="Switch to system preference" type=radio name=__palette id=__palette_2> <label class="md-header__button md-icon" title="Switch to system preference" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5M7 15a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg> </label> </form> <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </label> <nav class=md-search__options aria-label=Search> <a href=javascript:void(0) class="md-search__icon md-icon" title=Share aria-label=Share data-clipboard data-clipboard-text data-md-component=search-share tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg> </a> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/phalcon/docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> phalcon/docs </div> </a> </div> </nav> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../introduction/ class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../installation/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../application/ class=md-tabs__link> Core </a> </li> <li class=md-tabs__item> <a href=../db-layer/ class=md-tabs__link> Database </a> </li> <li class=md-tabs__item> <a href=../assets/ class=md-tabs__link> Front End </a> </li> <li class=md-tabs__item> <a href=../acl/ class=md-tabs__link> Business Logic </a> </li> <li class="md-tabs__item md-tabs__item--active"> <a href=./ class=md-tabs__link> Services </a> </li> </ul> </div> </nav> </header> <div class=md-container data-md-component=container> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="Phalcon Documentation" class="md-nav__button md-logo" aria-label="Phalcon Documentation" data-md-component=logo> <img src=https://assets.phalcon.io/phalcon/images/svg/phalcon-logo-white-105x40.svg alt=logo> </a> Phalcon Documentation </label> <div class=md-nav__source> <a href=https://github.com/phalcon/docs title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg> </div> <div class=md-source__repository> phalcon/docs </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1> <label class=md-nav__link for=__nav_1 id=__nav_1_label tabindex> <span class=md-ellipsis> Home </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_1_label aria-expanded=false> <label class=md-nav__title for=__nav_1> <span class="md-nav__icon md-icon"></span> Home </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../introduction/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_2> <label class=md-nav__link for=__nav_1_2 id=__nav_1_2_label tabindex> <span class=md-ellipsis> Changelog </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_2_label aria-expanded=false> <label class=md-nav__title for=__nav_1_2> <span class="md-nav__icon md-icon"></span> Changelog </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=https://github.com/phalcon/cphalcon/tree/master/resources class=md-nav__link> <span class=md-ellipsis> Current Version </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_3> <label class=md-nav__link for=__nav_1_3 id=__nav_1_3_label tabindex> <span class=md-ellipsis> Contributing </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_3_label aria-expanded=false> <label class=md-nav__title for=__nav_1_3> <span class="md-nav__icon md-icon"></span> Contributing </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../contributions/ class=md-nav__link> <span class=md-ellipsis> Contributions </span> </a> </li> <li class=md-nav__item> <a href=https://phalcon.io/discussions class=md-nav__link> <span class=md-ellipsis> Asking a question </span> </a> </li> <li class=md-nav__item> <a href=../new-feature-request/ class=md-nav__link> <span class=md-ellipsis> Requesting a change </span> </a> </li> <li class=md-nav__item> <a href=../new-pull-request/ class=md-nav__link> <span class=md-ellipsis> Issuing a Pull Request </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_1_4> <label class=md-nav__link for=__nav_1_4 id=__nav_1_4_label tabindex> <span class=md-ellipsis> Guides </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_1_4_label aria-expanded=false> <label class=md-nav__title for=__nav_1_4> <span class="md-nav__icon md-icon"></span> Guides </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../generating-backtrace/ class=md-nav__link> <span class=md-ellipsis> Backtrace Generation </span> </a> </li> <li class=md-nav__item> <a href=../reproducible-tests/ class=md-nav__link> <span class=md-ellipsis> Reproducible Tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../sponsors/ class=md-nav__link> <span class=md-ellipsis> Sponsoring </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2> <label class=md-nav__link for=__nav_2 id=__nav_2_label tabindex> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_2_label aria-expanded=false> <label class=md-nav__title for=__nav_2> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../webserver-setup/ class=md-nav__link> <span class=md-ellipsis> Webserver Setup </span> </a> </li> <li class=md-nav__item> <a href=../webserver-wamp/ class=md-nav__link> <span class=md-ellipsis> WAMP </span> </a> </li> <li class=md-nav__item> <a href=../webserver-xampp/ class=md-nav__link> <span class=md-ellipsis> XAMPP </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_5> <label class=md-nav__link for=__nav_2_5 id=__nav_2_5_label tabindex> <span class=md-ellipsis> Environments </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_5_label aria-expanded=false> <label class=md-nav__title for=__nav_2_5> <span class="md-nav__icon md-icon"></span> Environments </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../environments-nanobox/ class=md-nav__link> <span class=md-ellipsis> Nanobox </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_6> <label class=md-nav__link for=__nav_2_6 id=__nav_2_6_label tabindex> <span class=md-ellipsis> Development Tools </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_6_label aria-expanded=false> <label class=md-nav__title for=__nav_2_6> <span class="md-nav__icon md-icon"></span> Development Tools </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../devtools-installation/ class=md-nav__link> <span class=md-ellipsis> Installation </span> </a> </li> <li class=md-nav__item> <a href=../devtools-usage/ class=md-nav__link> <span class=md-ellipsis> Usage </span> </a> </li> <li class=md-nav__item> <a href=../debug/ class=md-nav__link> <span class=md-ellipsis> Debug </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_2_7> <label class=md-nav__link for=__nav_2_7 id=__nav_2_7_label tabindex> <span class=md-ellipsis> Tutorials </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_2_7_label aria-expanded=false> <label class=md-nav__title for=__nav_2_7> <span class="md-nav__icon md-icon"></span> Tutorials </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial-basic/ class=md-nav__link> <span class=md-ellipsis> Basic </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-invo/ class=md-nav__link> <span class=md-ellipsis> Invo </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-rest/ class=md-nav__link> <span class=md-ellipsis> REST </span> </a> </li> <li class=md-nav__item> <a href=../tutorial-vokuro/ class=md-nav__link> <span class=md-ellipsis> Vokuro </span> </a> </li> <li class=md-nav__item> <a href=../performance/ class=md-nav__link> <span class=md-ellipsis> Performance </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_3> <div class="md-nav__link md-nav__container"> <a href=../api/ class="md-nav__link "> <span class=md-ellipsis> Core </span> </a> <label class="md-nav__link " for=__nav_3 id=__nav_3_label tabindex> <span class="md-nav__icon md-icon"></span> </label> </div> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_3_label aria-expanded=false> <label class=md-nav__title for=__nav_3> <span class="md-nav__icon md-icon"></span> Core </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../application/ class=md-nav__link> <span class=md-ellipsis> Application </span> </a> </li> <li class=md-nav__item> <a href=../application-micro/ class=md-nav__link> <span class=md-ellipsis> Micro </span> </a> </li> <li class=md-nav__item> <a href=../application-cli/ class=md-nav__link> <span class=md-ellipsis> CLI </span> </a> </li> <li class=md-nav__item> <a href=../di/ class=md-nav__link> <span class=md-ellipsis> DI Container </span> </a> </li> <li class=md-nav__item> <a href=../mvc/ class=md-nav__link> <span class=md-ellipsis> MVC </span> </a> </li> <li class=md-nav__item> <a href=../namespaces/ class=md-nav__link> <span class=md-ellipsis> Namespaces </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex> <span class=md-ellipsis> Database </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Database </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../db-layer/ class=md-nav__link> <span class=md-ellipsis> Layer </span> </a> </li> <li class=md-nav__item> <a href=../db-phql/ class=md-nav__link> <span class=md-ellipsis> PHQL </span> </a> </li> <li class=md-nav__item> <a href=../db-odm/ class=md-nav__link> <span class=md-ellipsis> ODM </span> </a> </li> <li class=md-nav__item> <a href=../db-models/ class=md-nav__link> <span class=md-ellipsis> Models </span> </a> </li> <li class=md-nav__item> <a href=../db-models-behaviors/ class=md-nav__link> <span class=md-ellipsis> Behaviors </span> </a> </li> <li class=md-nav__item> <a href=../db-models-cache/ class=md-nav__link> <span class=md-ellipsis> Cache </span> </a> </li> <li class=md-nav__item> <a href=../db-models-events/ class=md-nav__link> <span class=md-ellipsis> Events </span> </a> </li> <li class=md-nav__item> <a href=../db-models-metadata/ class=md-nav__link> <span class=md-ellipsis> Metadata </span> </a> </li> <li class=md-nav__item> <a href=../db-models-relationships/ class=md-nav__link> <span class=md-ellipsis> Relationships </span> </a> </li> <li class=md-nav__item> <a href=../db-models-transactions/ class=md-nav__link> <span class=md-ellipsis> Transactions </span> </a> </li> <li class=md-nav__item> <a href=../db-models-validation/ class=md-nav__link> <span class=md-ellipsis> Validators </span> </a> </li> <li class=md-nav__item> <a href=../db-pagination/ class=md-nav__link> <span class=md-ellipsis> Pagination </span> </a> </li> <li class=md-nav__item> <a href=../db-migrations/ class=md-nav__link> <span class=md-ellipsis> Migrations </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex> <span class=md-ellipsis> Front End </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Front End </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../assets/ class=md-nav__link> <span class=md-ellipsis> Assets </span> </a> </li> <li class=md-nav__item> <a href=../flash/ class=md-nav__link> <span class=md-ellipsis> Flash Messenger </span> </a> </li> <li class=md-nav__item> <a href=../forms/ class=md-nav__link> <span class=md-ellipsis> Forms </span> </a> </li> <li class=md-nav__item> <a href=../image/ class=md-nav__link> <span class=md-ellipsis> Image </span> </a> </li> <li class=md-nav__item> <a href=../tag/ class=md-nav__link> <span class=md-ellipsis> Tag </span> </a> </li> <li class=md-nav__item> <a href=../views/ class=md-nav__link> <span class=md-ellipsis> View </span> </a> </li> <li class=md-nav__item> <a href=../volt/ class=md-nav__link> <span class=md-ellipsis> Volt </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex> <span class=md-ellipsis> Business Logic </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> Business Logic </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../acl/ class=md-nav__link> <span class=md-ellipsis> Access Control Lists </span> </a> </li> <li class=md-nav__item> <a href=../annotations/ class=md-nav__link> <span class=md-ellipsis> Annotations </span> </a> </li> <li class=md-nav__item> <a href=../controllers/ class=md-nav__link> <span class=md-ellipsis> Controllers </span> </a> </li> <li class=md-nav__item> <a href=../dispatcher/ class=md-nav__link> <span class=md-ellipsis> Dispatcher </span> </a> </li> <li class=md-nav__item> <a href=../events/ class=md-nav__link> <span class=md-ellipsis> Event Manager </span> </a> </li> <li class=md-nav__item> <a href=../filter/ class=md-nav__link> <span class=md-ellipsis> Filters </span> </a> </li> <li class=md-nav__item> <a href=../routing/ class=md-nav__link> <span class=md-ellipsis> Routing </span> </a> </li> <li class=md-nav__item> <a href=../session/ class=md-nav__link> <span class=md-ellipsis> Sessions </span> </a> </li> <li class=md-nav__item> <a href=../url/ class=md-nav__link> <span class=md-ellipsis> Url </span> </a> </li> <li class=md-nav__item> <a href=../validation/ class=md-nav__link> <span class=md-ellipsis> Validation </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7 checked> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex> <span class=md-ellipsis> Services </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=true> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Services </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" type=checkbox id=__toc> <label class="md-nav__link md-nav__link--active" for=__toc> <span class=md-ellipsis> Cache </span> <span class="md-nav__icon md-icon"></span> </label> <a href=./ class="md-nav__link md-nav__link--active"> <span class=md-ellipsis> Cache </span> </a> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#when-to-implement-cache class=md-nav__link> <span class=md-ellipsis> When to implement cache? </span> </a> </li> <li class=md-nav__item> <a href=#caching-behavior class=md-nav__link> <span class=md-ellipsis> Caching Behavior </span> </a> </li> <li class=md-nav__item> <a href=#factory class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> </li> <li class=md-nav__item> <a href=#caching-output-fragments class=md-nav__link> <span class=md-ellipsis> Caching Output Fragments </span> </a> </li> <li class=md-nav__item> <a href=#caching-arbitrary-data class=md-nav__link> <span class=md-ellipsis> Caching Arbitrary Data </span> </a> <nav class=md-nav aria-label="Caching Arbitrary Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#file-backend-example class=md-nav__link> <span class=md-ellipsis> File Backend Example </span> </a> </li> <li class=md-nav__item> <a href=#memcached-backend-example class=md-nav__link> <span class=md-ellipsis> Memcached Backend Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querying-the-cache class=md-nav__link> <span class=md-ellipsis> Querying the cache </span> </a> </li> <li class=md-nav__item> <a href=#deleting-data-from-the-cache class=md-nav__link> <span class=md-ellipsis> Deleting data from the cache </span> </a> </li> <li class=md-nav__item> <a href=#checking-cache-existence class=md-nav__link> <span class=md-ellipsis> Checking cache existence </span> </a> </li> <li class=md-nav__item> <a href=#lifetime class=md-nav__link> <span class=md-ellipsis> Lifetime </span> </a> </li> <li class=md-nav__item> <a href=#multi-level-cache class=md-nav__link> <span class=md-ellipsis> Multi-Level Cache </span> </a> </li> <li class=md-nav__item> <a href=#frontend-adapters class=md-nav__link> <span class=md-ellipsis> Frontend Adapters </span> </a> <nav class=md-nav aria-label="Frontend Adapters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementing-your-own-frontend-adapters class=md-nav__link> <span class=md-ellipsis> Implementing your own Frontend adapters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#backend-adapters class=md-nav__link> <span class=md-ellipsis> Backend Adapters </span> </a> <nav class=md-nav aria-label="Backend Adapters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#note-in-php-7-to-use-phalcon-apc-based-adapter-classes-you-needed-to-install-apcu-and-apcu_bc-package-from-pecl-now-in-phalcon-340-you-can-switch-your-apc-classes-to-apcu-and-remove-apcu_bc-keep-in-mind-that-in-phalcon-4-we-will-most-likely-remove-all-apc-classes class=md-nav__link> <span class=md-ellipsis> NOTE In PHP 7 to use phalcon apc based adapter classes you needed to install apcu and apcu_bc package from pecl. Now in Phalcon 3.4.0 you can switch your \Apc classes to \Apcu and remove apcu_bc. Keep in mind that in Phalcon 4 we will most likely remove all *\Apc classes. </span> </a> </li> <li class=md-nav__item> <a href=#factory_1 class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> </li> <li class=md-nav__item> <a href=#implementing-your-own-backend-adapters class=md-nav__link> <span class=md-ellipsis> Implementing your own Backend adapters </span> </a> </li> <li class=md-nav__item> <a href=#file-backend-options class=md-nav__link> <span class=md-ellipsis> File Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#libmemcached-backend-options class=md-nav__link> <span class=md-ellipsis> Libmemcached Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#memcache-backend-options class=md-nav__link> <span class=md-ellipsis> Memcache Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#apc-backend-options class=md-nav__link> <span class=md-ellipsis> APC Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#apcu-backend-options class=md-nav__link> <span class=md-ellipsis> APCU Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#mongo-backend-options class=md-nav__link> <span class=md-ellipsis> Mongo Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#xcache-backend-options class=md-nav__link> <span class=md-ellipsis> XCache Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#redis-backend-options class=md-nav__link> <span class=md-ellipsis> Redis Backend Options </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../config/ class=md-nav__link> <span class=md-ellipsis> Config </span> </a> </li> <li class=md-nav__item> <a href=../escaper/ class=md-nav__link> <span class=md-ellipsis> Escaper </span> </a> </li> <li class=md-nav__item> <a href=../loader/ class=md-nav__link> <span class=md-ellipsis> Loader </span> </a> </li> <li class=md-nav__item> <a href=../logging/ class=md-nav__link> <span class=md-ellipsis> Logger </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_6> <label class=md-nav__link for=__nav_7_6 id=__nav_7_6_label tabindex> <span class=md-ellipsis> HTTP </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_6_label aria-expanded=false> <label class=md-nav__title for=__nav_7_6> <span class="md-nav__icon md-icon"></span> HTTP </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../cookies/ class=md-nav__link> <span class=md-ellipsis> Cookies </span> </a> </li> <li class=md-nav__item> <a href=../request/ class=md-nav__link> <span class=md-ellipsis> Request </span> </a> </li> <li class=md-nav__item> <a href=../response/ class=md-nav__link> <span class=md-ellipsis> Response </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_7> <label class=md-nav__link for=__nav_7_7 id=__nav_7_7_label tabindex> <span class=md-ellipsis> i18n </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7_7> <span class="md-nav__icon md-icon"></span> i18n </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../i18n/ class=md-nav__link> <span class=md-ellipsis> Internationalization </span> </a> </li> <li class=md-nav__item> <a href=../translate/ class=md-nav__link> <span class=md-ellipsis> Translate </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../queue/ class=md-nav__link> <span class=md-ellipsis> Queue </span> </a> </li> <li class="md-nav__item md-nav__item--section md-nav__item--nested"> <input class="md-nav__toggle md-toggle " type=checkbox id=__nav_7_9> <label class=md-nav__link for=__nav_7_9 id=__nav_7_9_label tabindex> <span class=md-ellipsis> Security </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_9_label aria-expanded=false> <label class=md-nav__title for=__nav_7_9> <span class="md-nav__icon md-icon"></span> Security </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../crypt/ class=md-nav__link> <span class=md-ellipsis> Cryptography </span> </a> </li> <li class=md-nav__item> <a href=../security/ class=md-nav__link> <span class=md-ellipsis> Security </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#when-to-implement-cache class=md-nav__link> <span class=md-ellipsis> When to implement cache? </span> </a> </li> <li class=md-nav__item> <a href=#caching-behavior class=md-nav__link> <span class=md-ellipsis> Caching Behavior </span> </a> </li> <li class=md-nav__item> <a href=#factory class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> </li> <li class=md-nav__item> <a href=#caching-output-fragments class=md-nav__link> <span class=md-ellipsis> Caching Output Fragments </span> </a> </li> <li class=md-nav__item> <a href=#caching-arbitrary-data class=md-nav__link> <span class=md-ellipsis> Caching Arbitrary Data </span> </a> <nav class=md-nav aria-label="Caching Arbitrary Data"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#file-backend-example class=md-nav__link> <span class=md-ellipsis> File Backend Example </span> </a> </li> <li class=md-nav__item> <a href=#memcached-backend-example class=md-nav__link> <span class=md-ellipsis> Memcached Backend Example </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#querying-the-cache class=md-nav__link> <span class=md-ellipsis> Querying the cache </span> </a> </li> <li class=md-nav__item> <a href=#deleting-data-from-the-cache class=md-nav__link> <span class=md-ellipsis> Deleting data from the cache </span> </a> </li> <li class=md-nav__item> <a href=#checking-cache-existence class=md-nav__link> <span class=md-ellipsis> Checking cache existence </span> </a> </li> <li class=md-nav__item> <a href=#lifetime class=md-nav__link> <span class=md-ellipsis> Lifetime </span> </a> </li> <li class=md-nav__item> <a href=#multi-level-cache class=md-nav__link> <span class=md-ellipsis> Multi-Level Cache </span> </a> </li> <li class=md-nav__item> <a href=#frontend-adapters class=md-nav__link> <span class=md-ellipsis> Frontend Adapters </span> </a> <nav class=md-nav aria-label="Frontend Adapters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#implementing-your-own-frontend-adapters class=md-nav__link> <span class=md-ellipsis> Implementing your own Frontend adapters </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#backend-adapters class=md-nav__link> <span class=md-ellipsis> Backend Adapters </span> </a> <nav class=md-nav aria-label="Backend Adapters"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#note-in-php-7-to-use-phalcon-apc-based-adapter-classes-you-needed-to-install-apcu-and-apcu_bc-package-from-pecl-now-in-phalcon-340-you-can-switch-your-apc-classes-to-apcu-and-remove-apcu_bc-keep-in-mind-that-in-phalcon-4-we-will-most-likely-remove-all-apc-classes class=md-nav__link> <span class=md-ellipsis> NOTE In PHP 7 to use phalcon apc based adapter classes you needed to install apcu and apcu_bc package from pecl. Now in Phalcon 3.4.0 you can switch your \Apc classes to \Apcu and remove apcu_bc. Keep in mind that in Phalcon 4 we will most likely remove all *\Apc classes. </span> </a> </li> <li class=md-nav__item> <a href=#factory_1 class=md-nav__link> <span class=md-ellipsis> Factory </span> </a> </li> <li class=md-nav__item> <a href=#implementing-your-own-backend-adapters class=md-nav__link> <span class=md-ellipsis> Implementing your own Backend adapters </span> </a> </li> <li class=md-nav__item> <a href=#file-backend-options class=md-nav__link> <span class=md-ellipsis> File Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#libmemcached-backend-options class=md-nav__link> <span class=md-ellipsis> Libmemcached Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#memcache-backend-options class=md-nav__link> <span class=md-ellipsis> Memcache Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#apc-backend-options class=md-nav__link> <span class=md-ellipsis> APC Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#apcu-backend-options class=md-nav__link> <span class=md-ellipsis> APCU Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#mongo-backend-options class=md-nav__link> <span class=md-ellipsis> Mongo Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#xcache-backend-options class=md-nav__link> <span class=md-ellipsis> XCache Backend Options </span> </a> </li> <li class=md-nav__item> <a href=#redis-backend-options class=md-nav__link> <span class=md-ellipsis> Redis Backend Options </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/phalcon/docs/edit/master/docs/cache.md title="Edit this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg> </a> <a href=https://github.com/phalcon/docs/raw/master/docs/cache.md title="View source of this page" class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.15 8.15 0 0 1-1.23-2Z"/></svg> </a> <h1 id=improving-performance-with-cache>Improving Performance with Cache<a class=headerlink href=#improving-performance-with-cache title="Permanent link">&para;</a></h1> <p>Phalcon provides the <code>Phalcon\Cache</code> class allowing faster access to frequently used or already processed data. <code>Phalcon\Cache</code> is written in C, achieving higher performance and reducing the overhead when getting items from the backends. This class uses an internal structure of frontend and backend components. Front-end components act as input sources or interfaces, while backend components offer storage options to the class.</p> <h2 id=when-to-implement-cache>When to implement cache?<a class=headerlink href=#when-to-implement-cache title="Permanent link">&para;</a></h2> <p>Although this component is very fast, implementing it in cases that are not needed could lead to a loss of performance rather than gain. We recommend you check this cases before using a cache:</p> <ul> <li>You are making complex calculations that every time return the same result (changing infrequently)</li> <li>You are using a lot of helpers and the output generated is almost always the same</li> <li>You are accessing database data constantly and these data rarely change</li> </ul> <div class="admonition warning"> <p class=admonition-title>NOTE</p> <p>Even after implementing the cache, you should check the hit ratio of your cache over a period of time. This can easily be done, especially in the case of Memcache or Apc, with the relevant tools that the backends provide.</p> </div> <h2 id=caching-behavior>Caching Behavior<a class=headerlink href=#caching-behavior title="Permanent link">&para;</a></h2> <p>The caching process is divided into 2 parts:</p> <ul> <li><strong>Frontend</strong>: This part is responsible for checking if a key has expired and perform additional transformations to the data before storing and after retrieving them from the backend-</li> <li><strong>Backend</strong>: This part is responsible for communicating, writing/reading the data required by the frontend.</li> </ul> <h2 id=factory>Factory<a class=headerlink href=#factory title="Permanent link">&para;</a></h2> <p>Instantiating frontend or backend adapters can be achieved by two ways:</p> <p>Traditional way</p> <div class=highlight><pre><span></span><code><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a>
<a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\File</span> <span class=k>as</span> <span class=nx>BackFile</span><span class=p>;</span>
<a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span> <span class=k>as</span> <span class=nx>FrontData</span><span class=p>;</span>
<a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>
<a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=c1>// Create an Output frontend. Cache the files for 2 days</span>
<a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=nv>$frontCache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FrontData</span><span class=p>(</span>
<a id=__codelineno-0-8 name=__codelineno-0-8 href=#__codelineno-0-8></a>    <span class=p>[</span>
<a id=__codelineno-0-9 name=__codelineno-0-9 href=#__codelineno-0-9></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>172800</span><span class=p>,</span>
<a id=__codelineno-0-10 name=__codelineno-0-10 href=#__codelineno-0-10></a>    <span class=p>]</span>
<a id=__codelineno-0-11 name=__codelineno-0-11 href=#__codelineno-0-11></a><span class=p>);</span>
<a id=__codelineno-0-12 name=__codelineno-0-12 href=#__codelineno-0-12></a>
<a id=__codelineno-0-13 name=__codelineno-0-13 href=#__codelineno-0-13></a><span class=c1>// Create the component that will cache from the &#39;Output&#39; to a &#39;File&#39; backend</span>
<a id=__codelineno-0-14 name=__codelineno-0-14 href=#__codelineno-0-14></a><span class=c1>// Set the cache file directory - it&#39;s important to keep the &#39;/&#39; at the end of</span>
<a id=__codelineno-0-15 name=__codelineno-0-15 href=#__codelineno-0-15></a><span class=c1>// the value for the folder</span>
<a id=__codelineno-0-16 name=__codelineno-0-16 href=#__codelineno-0-16></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BackFile</span><span class=p>(</span>
<a id=__codelineno-0-17 name=__codelineno-0-17 href=#__codelineno-0-17></a>    <span class=nv>$frontCache</span><span class=p>,</span>
<a id=__codelineno-0-18 name=__codelineno-0-18 href=#__codelineno-0-18></a>    <span class=p>[</span>
<a id=__codelineno-0-19 name=__codelineno-0-19 href=#__codelineno-0-19></a>        <span class=s1>&#39;cacheDir&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;../app/cache/&#39;</span><span class=p>,</span>
<a id=__codelineno-0-20 name=__codelineno-0-20 href=#__codelineno-0-20></a>    <span class=p>]</span>
<a id=__codelineno-0-21 name=__codelineno-0-21 href=#__codelineno-0-21></a><span class=p>);</span>
</code></pre></div> <p>or using the Factory object as follows:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a>
<a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Factory</span> <span class=k>as</span> <span class=nx>FFactory</span><span class=p>;</span>
<a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Factory</span> <span class=k>as</span> <span class=nx>BFactory</span><span class=p>;</span>
<a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a>
<a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a> <span class=nv>$options</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a>     <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>172800</span><span class=p>,</span>
<a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a>     <span class=s1>&#39;adapter&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;data&#39;</span><span class=p>,</span>
<a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a> <span class=p>];</span>
<a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a> <span class=nv>$frontendCache</span> <span class=o>=</span> <span class=nx>FFactory</span><span class=o>::</span><span class=na>load</span><span class=p>(</span><span class=nv>$options</span><span class=p>);</span>
<a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a>
<a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a>
<a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=nv>$options</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a>    <span class=s1>&#39;cacheDir&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;../app/cache/&#39;</span><span class=p>,</span>
<a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a>    <span class=s1>&#39;prefix&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;app-data&#39;</span><span class=p>,</span>
<a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a>    <span class=s1>&#39;frontend&#39;</span> <span class=o>=&gt;</span> <span class=nv>$frontendCache</span><span class=p>,</span>
<a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a>    <span class=s1>&#39;adapter&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;file&#39;</span><span class=p>,</span>
<a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a><span class=p>];</span>
<a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a>
<a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a><span class=nv>$backendCache</span> <span class=o>=</span> <span class=nx>BFactory</span><span class=o>::</span><span class=na>load</span><span class=p>(</span><span class=nv>$options</span><span class=p>);</span>
</code></pre></div> <h2 id=caching-output-fragments>Caching Output Fragments<a class=headerlink href=#caching-output-fragments title="Permanent link">&para;</a></h2> <p>An output fragment is a piece of HTML or text that is cached as is and returned as is. The output is automatically captured from the <code>ob_*</code> functions or the PHP output so that it can be saved in the cache. The following example demonstrates such usage. It receives the output generated by PHP and stores it into a file. The contents of the file are refreshed every 172,800 seconds (2 days).</p> <p>The implementation of this caching mechanism allows us to gain performance by not executing the helper <code>Phalcon\Tag::linkTo()</code> call whenever this piece of code is called.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a>
<a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=k>use</span> <span class=nx>Phalcon\Tag</span><span class=p>;</span>
<a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\File</span> <span class=k>as</span> <span class=nx>BackFile</span><span class=p>;</span>
<a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Output</span> <span class=k>as</span> <span class=nx>FrontOutput</span><span class=p>;</span>
<a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a>
<a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=c1>// Create an Output frontend. Cache the files for 2 days</span>
<a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=nv>$frontCache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FrontOutput</span><span class=p>(</span>
<a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a>    <span class=p>[</span>
<a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>172800</span><span class=p>,</span>
<a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a>    <span class=p>]</span>
<a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=p>);</span>
<a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a>
<a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=c1>// Create the component that will cache from the &#39;Output&#39; to a &#39;File&#39; backend</span>
<a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=c1>// Set the cache file directory - it&#39;s important to keep the &#39;/&#39; at the end of</span>
<a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=c1>// the value for the folder</span>
<a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BackFile</span><span class=p>(</span>
<a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a>    <span class=nv>$frontCache</span><span class=p>,</span>
<a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a>    <span class=p>[</span>
<a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a>        <span class=s1>&#39;cacheDir&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;../app/cache/&#39;</span><span class=p>,</span>
<a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a>    <span class=p>]</span>
<a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a><span class=p>);</span>
<a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a>
<a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=c1>// Get/Set the cache file to ../app/cache/my-cache.html</span>
<a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=nv>$content</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>start</span><span class=p>(</span><span class=s1>&#39;my-cache.html&#39;</span><span class=p>);</span>
<a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a>
<a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a><span class=c1>// If $content is null then the content will be generated for the cache</span>
<a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a><span class=k>if</span> <span class=p>(</span><span class=nv>$content</span> <span class=o>===</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a>    <span class=c1>// Print date and time</span>
<a id=__codelineno-2-30 name=__codelineno-2-30 href=#__codelineno-2-30></a>    <span class=k>echo</span> <span class=nb>date</span><span class=p>(</span><span class=s1>&#39;r&#39;</span><span class=p>);</span>
<a id=__codelineno-2-31 name=__codelineno-2-31 href=#__codelineno-2-31></a>
<a id=__codelineno-2-32 name=__codelineno-2-32 href=#__codelineno-2-32></a>    <span class=c1>// Generate a link to the sign-up action</span>
<a id=__codelineno-2-33 name=__codelineno-2-33 href=#__codelineno-2-33></a>    <span class=k>echo</span> <span class=nx>Tag</span><span class=o>::</span><span class=na>linkTo</span><span class=p>(</span>
<a id=__codelineno-2-34 name=__codelineno-2-34 href=#__codelineno-2-34></a>        <span class=p>[</span>
<a id=__codelineno-2-35 name=__codelineno-2-35 href=#__codelineno-2-35></a>            <span class=s1>&#39;user/signup&#39;</span><span class=p>,</span>
<a id=__codelineno-2-36 name=__codelineno-2-36 href=#__codelineno-2-36></a>            <span class=s1>&#39;Sign Up&#39;</span><span class=p>,</span>
<a id=__codelineno-2-37 name=__codelineno-2-37 href=#__codelineno-2-37></a>            <span class=s1>&#39;class&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;signup-button&#39;</span><span class=p>,</span>
<a id=__codelineno-2-38 name=__codelineno-2-38 href=#__codelineno-2-38></a>        <span class=p>]</span>
<a id=__codelineno-2-39 name=__codelineno-2-39 href=#__codelineno-2-39></a>    <span class=p>);</span>
<a id=__codelineno-2-40 name=__codelineno-2-40 href=#__codelineno-2-40></a>
<a id=__codelineno-2-41 name=__codelineno-2-41 href=#__codelineno-2-41></a>    <span class=c1>// Store the output into the cache file</span>
<a id=__codelineno-2-42 name=__codelineno-2-42 href=#__codelineno-2-42></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>();</span>
<a id=__codelineno-2-43 name=__codelineno-2-43 href=#__codelineno-2-43></a><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
<a id=__codelineno-2-44 name=__codelineno-2-44 href=#__codelineno-2-44></a>    <span class=c1>// Echo the cached output</span>
<a id=__codelineno-2-45 name=__codelineno-2-45 href=#__codelineno-2-45></a>    <span class=k>echo</span> <span class=nv>$content</span><span class=p>;</span>
<a id=__codelineno-2-46 name=__codelineno-2-46 href=#__codelineno-2-46></a><span class=p>}</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>NOTE</p> <p>In the example above, our code remains the same, echoing output to the user as it has been doing before. Our cache component transparently captures that output and stores it in the cache file (when the cache is generated) or it sends it back to the user pre-compiled from a previous call, thus avoiding expensive operations.</p> </div> <h2 id=caching-arbitrary-data>Caching Arbitrary Data<a class=headerlink href=#caching-arbitrary-data title="Permanent link">&para;</a></h2> <p>Caching just data is equally important for your application. Caching can reduce database load by reusing commonly used (but not updated) data, thus speeding up your application.</p> <h3 id=file-backend-example>File Backend Example<a class=headerlink href=#file-backend-example title="Permanent link">&para;</a></h3> <p>One of the caching adapters is <code>File</code>. The only key area for this adapter is the location of where the cache files will be stored. This is controlled by the <code>cacheDir</code> option which <em>must</em> have a backslash at the end of it.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a>
<a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\File</span> <span class=k>as</span> <span class=nx>BackFile</span><span class=p>;</span>
<a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span> <span class=k>as</span> <span class=nx>FrontData</span><span class=p>;</span>
<a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a>
<a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=c1>// Cache the files for 2 days using a Data frontend</span>
<a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=nv>$frontCache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FrontData</span><span class=p>(</span>
<a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a>    <span class=p>[</span>
<a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>172800</span><span class=p>,</span>
<a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a>    <span class=p>]</span>
<a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=p>);</span>
<a id=__codelineno-3-12 name=__codelineno-3-12 href=#__codelineno-3-12></a>
<a id=__codelineno-3-13 name=__codelineno-3-13 href=#__codelineno-3-13></a><span class=c1>// Create the component that will cache &#39;Data&#39; to a &#39;File&#39; backend</span>
<a id=__codelineno-3-14 name=__codelineno-3-14 href=#__codelineno-3-14></a><span class=c1>// Set the cache file directory - important to keep the `/` at the end of</span>
<a id=__codelineno-3-15 name=__codelineno-3-15 href=#__codelineno-3-15></a><span class=c1>// the value for the folder</span>
<a id=__codelineno-3-16 name=__codelineno-3-16 href=#__codelineno-3-16></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BackFile</span><span class=p>(</span>
<a id=__codelineno-3-17 name=__codelineno-3-17 href=#__codelineno-3-17></a>    <span class=nv>$frontCache</span><span class=p>,</span>
<a id=__codelineno-3-18 name=__codelineno-3-18 href=#__codelineno-3-18></a>    <span class=p>[</span>
<a id=__codelineno-3-19 name=__codelineno-3-19 href=#__codelineno-3-19></a>        <span class=s1>&#39;cacheDir&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;../app/cache/&#39;</span><span class=p>,</span>
<a id=__codelineno-3-20 name=__codelineno-3-20 href=#__codelineno-3-20></a>    <span class=p>]</span>
<a id=__codelineno-3-21 name=__codelineno-3-21 href=#__codelineno-3-21></a><span class=p>);</span>
<a id=__codelineno-3-22 name=__codelineno-3-22 href=#__codelineno-3-22></a>
<a id=__codelineno-3-23 name=__codelineno-3-23 href=#__codelineno-3-23></a><span class=nv>$cacheKey</span> <span class=o>=</span> <span class=s1>&#39;robots_order_id.cache&#39;</span><span class=p>;</span>
<a id=__codelineno-3-24 name=__codelineno-3-24 href=#__codelineno-3-24></a>
<a id=__codelineno-3-25 name=__codelineno-3-25 href=#__codelineno-3-25></a><span class=c1>// Try to get cached records</span>
<a id=__codelineno-3-26 name=__codelineno-3-26 href=#__codelineno-3-26></a><span class=nv>$robots</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>);</span>
<a id=__codelineno-3-27 name=__codelineno-3-27 href=#__codelineno-3-27></a>
<a id=__codelineno-3-28 name=__codelineno-3-28 href=#__codelineno-3-28></a><span class=k>if</span> <span class=p>(</span><span class=nv>$robots</span> <span class=o>===</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-3-29 name=__codelineno-3-29 href=#__codelineno-3-29></a>    <span class=c1>// $robots is null because of cache expiration or data does not exist</span>
<a id=__codelineno-3-30 name=__codelineno-3-30 href=#__codelineno-3-30></a>    <span class=c1>// Make the database call and populate the variable</span>
<a id=__codelineno-3-31 name=__codelineno-3-31 href=#__codelineno-3-31></a>    <span class=nv>$robots</span> <span class=o>=</span> <span class=nx>Robots</span><span class=o>::</span><span class=na>find</span><span class=p>(</span>
<a id=__codelineno-3-32 name=__codelineno-3-32 href=#__codelineno-3-32></a>        <span class=p>[</span>
<a id=__codelineno-3-33 name=__codelineno-3-33 href=#__codelineno-3-33></a>            <span class=s1>&#39;order&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;id&#39;</span><span class=p>,</span>
<a id=__codelineno-3-34 name=__codelineno-3-34 href=#__codelineno-3-34></a>        <span class=p>]</span>
<a id=__codelineno-3-35 name=__codelineno-3-35 href=#__codelineno-3-35></a>    <span class=p>);</span>
<a id=__codelineno-3-36 name=__codelineno-3-36 href=#__codelineno-3-36></a>
<a id=__codelineno-3-37 name=__codelineno-3-37 href=#__codelineno-3-37></a>    <span class=c1>// Store it in the cache</span>
<a id=__codelineno-3-38 name=__codelineno-3-38 href=#__codelineno-3-38></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>,</span> <span class=nv>$robots</span><span class=p>);</span>
<a id=__codelineno-3-39 name=__codelineno-3-39 href=#__codelineno-3-39></a><span class=p>}</span>
<a id=__codelineno-3-40 name=__codelineno-3-40 href=#__codelineno-3-40></a>
<a id=__codelineno-3-41 name=__codelineno-3-41 href=#__codelineno-3-41></a><span class=c1>// Use $robots :)</span>
<a id=__codelineno-3-42 name=__codelineno-3-42 href=#__codelineno-3-42></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$robots</span> <span class=k>as</span> <span class=nv>$robot</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-3-43 name=__codelineno-3-43 href=#__codelineno-3-43></a>   <span class=k>echo</span> <span class=nv>$robot</span><span class=o>-&gt;</span><span class=na>name</span><span class=p>,</span> <span class=s1>&#39;\n&#39;</span><span class=p>;</span>
<a id=__codelineno-3-44 name=__codelineno-3-44 href=#__codelineno-3-44></a><span class=p>}</span>
</code></pre></div> <h3 id=memcached-backend-example>Memcached Backend Example<a class=headerlink href=#memcached-backend-example title="Permanent link">&para;</a></h3> <p>The above example changes slightly (especially in terms of configuration) when we are using a Memcached backend.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a>
<a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span> <span class=k>as</span> <span class=nx>FrontData</span><span class=p>;</span>
<a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Libmemcached</span> <span class=k>as</span> <span class=nx>BackMemCached</span><span class=p>;</span>
<a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a>
<a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=c1>// Cache data for one hour</span>
<a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=nv>$frontCache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FrontData</span><span class=p>(</span>
<a id=__codelineno-4-8 name=__codelineno-4-8 href=#__codelineno-4-8></a>    <span class=p>[</span>
<a id=__codelineno-4-9 name=__codelineno-4-9 href=#__codelineno-4-9></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>3600</span><span class=p>,</span>
<a id=__codelineno-4-10 name=__codelineno-4-10 href=#__codelineno-4-10></a>    <span class=p>]</span>
<a id=__codelineno-4-11 name=__codelineno-4-11 href=#__codelineno-4-11></a><span class=p>);</span>
<a id=__codelineno-4-12 name=__codelineno-4-12 href=#__codelineno-4-12></a>
<a id=__codelineno-4-13 name=__codelineno-4-13 href=#__codelineno-4-13></a><span class=c1>// Create the component that will cache &#39;Data&#39; to a &#39;Memcached&#39; backend</span>
<a id=__codelineno-4-14 name=__codelineno-4-14 href=#__codelineno-4-14></a><span class=c1>// Memcached connection settings</span>
<a id=__codelineno-4-15 name=__codelineno-4-15 href=#__codelineno-4-15></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>BackMemCached</span><span class=p>(</span>
<a id=__codelineno-4-16 name=__codelineno-4-16 href=#__codelineno-4-16></a>    <span class=nv>$frontCache</span><span class=p>,</span>
<a id=__codelineno-4-17 name=__codelineno-4-17 href=#__codelineno-4-17></a>    <span class=p>[</span>
<a id=__codelineno-4-18 name=__codelineno-4-18 href=#__codelineno-4-18></a>        <span class=s1>&#39;servers&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-4-19 name=__codelineno-4-19 href=#__codelineno-4-19></a>            <span class=p>[</span>
<a id=__codelineno-4-20 name=__codelineno-4-20 href=#__codelineno-4-20></a>                <span class=s1>&#39;host&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span>
<a id=__codelineno-4-21 name=__codelineno-4-21 href=#__codelineno-4-21></a>                <span class=s1>&#39;port&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;11211&#39;</span><span class=p>,</span>
<a id=__codelineno-4-22 name=__codelineno-4-22 href=#__codelineno-4-22></a>                <span class=s1>&#39;weight&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;1&#39;</span><span class=p>,</span>
<a id=__codelineno-4-23 name=__codelineno-4-23 href=#__codelineno-4-23></a>            <span class=p>]</span>
<a id=__codelineno-4-24 name=__codelineno-4-24 href=#__codelineno-4-24></a>        <span class=p>]</span>
<a id=__codelineno-4-25 name=__codelineno-4-25 href=#__codelineno-4-25></a>    <span class=p>]</span>
<a id=__codelineno-4-26 name=__codelineno-4-26 href=#__codelineno-4-26></a><span class=p>);</span>
<a id=__codelineno-4-27 name=__codelineno-4-27 href=#__codelineno-4-27></a>
<a id=__codelineno-4-28 name=__codelineno-4-28 href=#__codelineno-4-28></a><span class=nv>$cacheKey</span> <span class=o>=</span> <span class=s1>&#39;robots_order_id.cache&#39;</span><span class=p>;</span>
<a id=__codelineno-4-29 name=__codelineno-4-29 href=#__codelineno-4-29></a>
<a id=__codelineno-4-30 name=__codelineno-4-30 href=#__codelineno-4-30></a><span class=c1>// Try to get cached records</span>
<a id=__codelineno-4-31 name=__codelineno-4-31 href=#__codelineno-4-31></a><span class=nv>$robots</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>);</span>
<a id=__codelineno-4-32 name=__codelineno-4-32 href=#__codelineno-4-32></a>
<a id=__codelineno-4-33 name=__codelineno-4-33 href=#__codelineno-4-33></a><span class=k>if</span> <span class=p>(</span><span class=nv>$robots</span> <span class=o>===</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-4-34 name=__codelineno-4-34 href=#__codelineno-4-34></a>    <span class=c1>// $robots is null because of cache expiration or data does not exist</span>
<a id=__codelineno-4-35 name=__codelineno-4-35 href=#__codelineno-4-35></a>    <span class=c1>// Make the database call and populate the variable</span>
<a id=__codelineno-4-36 name=__codelineno-4-36 href=#__codelineno-4-36></a>    <span class=nv>$robots</span> <span class=o>=</span> <span class=nx>Robots</span><span class=o>::</span><span class=na>find</span><span class=p>(</span>
<a id=__codelineno-4-37 name=__codelineno-4-37 href=#__codelineno-4-37></a>        <span class=p>[</span>
<a id=__codelineno-4-38 name=__codelineno-4-38 href=#__codelineno-4-38></a>            <span class=s1>&#39;order&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;id&#39;</span><span class=p>,</span>
<a id=__codelineno-4-39 name=__codelineno-4-39 href=#__codelineno-4-39></a>        <span class=p>]</span>
<a id=__codelineno-4-40 name=__codelineno-4-40 href=#__codelineno-4-40></a>    <span class=p>);</span>
<a id=__codelineno-4-41 name=__codelineno-4-41 href=#__codelineno-4-41></a>
<a id=__codelineno-4-42 name=__codelineno-4-42 href=#__codelineno-4-42></a>    <span class=c1>// Store it in the cache</span>
<a id=__codelineno-4-43 name=__codelineno-4-43 href=#__codelineno-4-43></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>,</span> <span class=nv>$robots</span><span class=p>);</span>
<a id=__codelineno-4-44 name=__codelineno-4-44 href=#__codelineno-4-44></a><span class=p>}</span>
<a id=__codelineno-4-45 name=__codelineno-4-45 href=#__codelineno-4-45></a>
<a id=__codelineno-4-46 name=__codelineno-4-46 href=#__codelineno-4-46></a><span class=c1>// Use $robots :)</span>
<a id=__codelineno-4-47 name=__codelineno-4-47 href=#__codelineno-4-47></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$robots</span> <span class=k>as</span> <span class=nv>$robot</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-4-48 name=__codelineno-4-48 href=#__codelineno-4-48></a>   <span class=k>echo</span> <span class=nv>$robot</span><span class=o>-&gt;</span><span class=na>name</span><span class=p>,</span> <span class=s1>&#39;\n&#39;</span><span class=p>;</span>
<a id=__codelineno-4-49 name=__codelineno-4-49 href=#__codelineno-4-49></a><span class=p>}</span>
</code></pre></div> <div class="admonition warning"> <p class=admonition-title>NOTE</p> <p>Calling <code>save()</code> will return a boolean, indicating success (<code>true</code>) or failure (<code>false</code>). Depending on the backend that you use, you will need to look at the relevant logs to identify failures.</p> </div> <h2 id=querying-the-cache>Querying the cache<a class=headerlink href=#querying-the-cache title="Permanent link">&para;</a></h2> <p>The elements added to the cache are uniquely identified by a key. In the case of the File backend, the key is the actual filename. To retrieve data from the cache, we just have to call it using the unique key. If the key does not exist, the get method will return null.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a>
<a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=c1>// Retrieve products by key &#39;myProducts&#39;</span>
<a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=nv>$products</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;myProducts&#39;</span><span class=p>);</span>
</code></pre></div> <p>If you want to know which keys are stored in the cache you could call the <code>queryKeys</code> method:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a>
<a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=c1>// Query all keys used in the cache</span>
<a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=nv>$keys</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>queryKeys</span><span class=p>();</span>
<a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a>
<a id=__codelineno-6-6 name=__codelineno-6-6 href=#__codelineno-6-6></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$keys</span> <span class=k>as</span> <span class=nv>$key</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-6-7 name=__codelineno-6-7 href=#__codelineno-6-7></a>    <span class=nv>$data</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=nv>$key</span><span class=p>);</span>
<a id=__codelineno-6-8 name=__codelineno-6-8 href=#__codelineno-6-8></a>
<a id=__codelineno-6-9 name=__codelineno-6-9 href=#__codelineno-6-9></a>    <span class=k>echo</span> <span class=s1>&#39;Key=&#39;</span><span class=p>,</span> <span class=nv>$key</span><span class=p>,</span> <span class=s1>&#39; Data=&#39;</span><span class=p>,</span> <span class=nv>$data</span><span class=p>;</span>
<a id=__codelineno-6-10 name=__codelineno-6-10 href=#__codelineno-6-10></a><span class=p>}</span>
<a id=__codelineno-6-11 name=__codelineno-6-11 href=#__codelineno-6-11></a>
<a id=__codelineno-6-12 name=__codelineno-6-12 href=#__codelineno-6-12></a><span class=c1>// Query keys in the cache that begins with &#39;my-prefix&#39;</span>
<a id=__codelineno-6-13 name=__codelineno-6-13 href=#__codelineno-6-13></a><span class=nv>$keys</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>queryKeys</span><span class=p>(</span><span class=s1>&#39;my-prefix&#39;</span><span class=p>);</span>
</code></pre></div> <h2 id=deleting-data-from-the-cache>Deleting data from the cache<a class=headerlink href=#deleting-data-from-the-cache title="Permanent link">&para;</a></h2> <p>There are times where you will need to forcibly invalidate a cache entry (due to an update in the cached data). The only requirement is to know the key that the data have been stored with.</p> <div class=highlight><pre><span></span><code><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a>
<a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=c1>// Delete an item with a specific key</span>
<a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>delete</span><span class=p>(</span><span class=s1>&#39;someKey&#39;</span><span class=p>);</span>
<a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a>
<a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=nv>$keys</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>queryKeys</span><span class=p>();</span>
<a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>
<a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=c1>// Delete all items from the cache</span>
<a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=k>foreach</span> <span class=p>(</span><span class=nv>$keys</span> <span class=k>as</span> <span class=nv>$key</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>delete</span><span class=p>(</span><span class=nv>$key</span><span class=p>);</span>
<a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=p>}</span>
</code></pre></div> <h2 id=checking-cache-existence>Checking cache existence<a class=headerlink href=#checking-cache-existence title="Permanent link">&para;</a></h2> <p>It is possible to check if a cache already exists with a given key:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a>
<a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=k>if</span> <span class=p>(</span><span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>exists</span><span class=p>(</span><span class=s1>&#39;someKey&#39;</span><span class=p>))</span> <span class=p>{</span>
<a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a>    <span class=k>echo</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=s1>&#39;someKey&#39;</span><span class=p>);</span>
<a id=__codelineno-8-5 name=__codelineno-8-5 href=#__codelineno-8-5></a><span class=p>}</span> <span class=k>else</span> <span class=p>{</span>
<a id=__codelineno-8-6 name=__codelineno-8-6 href=#__codelineno-8-6></a>    <span class=k>echo</span> <span class=s1>&#39;Cache does not exists!&#39;</span><span class=p>;</span>
<a id=__codelineno-8-7 name=__codelineno-8-7 href=#__codelineno-8-7></a><span class=p>}</span>
</code></pre></div> <h2 id=lifetime>Lifetime<a class=headerlink href=#lifetime title="Permanent link">&para;</a></h2> <p>A <code>lifetime</code> is a time in seconds that a cache could live without expire. By default, all the created caches use the lifetime set in the frontend creation. You can set a specific lifetime in the creation or retrieving of the data from the cache:</p> <p>Setting the lifetime when retrieving:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a>
<a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=nv>$cacheKey</span> <span class=o>=</span> <span class=s1>&#39;my.cache&#39;</span><span class=p>;</span>
<a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a>
<a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=c1>// Setting the cache when getting a result</span>
<a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=nv>$robots</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>,</span> <span class=mi>3600</span><span class=p>);</span>
<a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a>
<a id=__codelineno-9-8 name=__codelineno-9-8 href=#__codelineno-9-8></a><span class=k>if</span> <span class=p>(</span><span class=nv>$robots</span> <span class=o>===</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-9-9 name=__codelineno-9-9 href=#__codelineno-9-9></a>    <span class=nv>$robots</span> <span class=o>=</span> <span class=s1>&#39;some robots&#39;</span><span class=p>;</span>
<a id=__codelineno-9-10 name=__codelineno-9-10 href=#__codelineno-9-10></a>
<a id=__codelineno-9-11 name=__codelineno-9-11 href=#__codelineno-9-11></a>    <span class=c1>// Store it in the cache</span>
<a id=__codelineno-9-12 name=__codelineno-9-12 href=#__codelineno-9-12></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>,</span> <span class=nv>$robots</span><span class=p>);</span>
<a id=__codelineno-9-13 name=__codelineno-9-13 href=#__codelineno-9-13></a><span class=p>}</span>
</code></pre></div> <p>Setting the lifetime when saving:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-10-1 name=__codelineno-10-1 href=#__codelineno-10-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-10-2 name=__codelineno-10-2 href=#__codelineno-10-2></a>
<a id=__codelineno-10-3 name=__codelineno-10-3 href=#__codelineno-10-3></a><span class=nv>$cacheKey</span> <span class=o>=</span> <span class=s1>&#39;my.cache&#39;</span><span class=p>;</span>
<a id=__codelineno-10-4 name=__codelineno-10-4 href=#__codelineno-10-4></a>
<a id=__codelineno-10-5 name=__codelineno-10-5 href=#__codelineno-10-5></a><span class=nv>$robots</span> <span class=o>=</span> <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>get</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>);</span>
<a id=__codelineno-10-6 name=__codelineno-10-6 href=#__codelineno-10-6></a>
<a id=__codelineno-10-7 name=__codelineno-10-7 href=#__codelineno-10-7></a><span class=k>if</span> <span class=p>(</span><span class=nv>$robots</span> <span class=o>===</span> <span class=k>null</span><span class=p>)</span> <span class=p>{</span>
<a id=__codelineno-10-8 name=__codelineno-10-8 href=#__codelineno-10-8></a>    <span class=nv>$robots</span> <span class=o>=</span> <span class=s1>&#39;some robots&#39;</span><span class=p>;</span>
<a id=__codelineno-10-9 name=__codelineno-10-9 href=#__codelineno-10-9></a>
<a id=__codelineno-10-10 name=__codelineno-10-10 href=#__codelineno-10-10></a>    <span class=c1>// Setting the cache when saving data</span>
<a id=__codelineno-10-11 name=__codelineno-10-11 href=#__codelineno-10-11></a>    <span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>(</span><span class=nv>$cacheKey</span><span class=p>,</span> <span class=nv>$robots</span><span class=p>,</span> <span class=mi>3600</span><span class=p>);</span>
<a id=__codelineno-10-12 name=__codelineno-10-12 href=#__codelineno-10-12></a><span class=p>}</span>
</code></pre></div> <h2 id=multi-level-cache>Multi-Level Cache<a class=headerlink href=#multi-level-cache title="Permanent link">&para;</a></h2> <p>This feature of the cache component, allows the developer to implement a multi-level cache. This new feature is very useful because you can save the same data in several cache locations with different lifetimes, reading first from the one with the faster adapter and ending with the slowest one until the data expires:</p> <div class=highlight><pre><span></span><code><a id=__codelineno-11-1 name=__codelineno-11-1 href=#__codelineno-11-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-11-2 name=__codelineno-11-2 href=#__codelineno-11-2></a>
<a id=__codelineno-11-3 name=__codelineno-11-3 href=#__codelineno-11-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Multiple</span><span class=p>;</span>
<a id=__codelineno-11-4 name=__codelineno-11-4 href=#__codelineno-11-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Apc</span> <span class=k>as</span> <span class=nx>ApcCache</span><span class=p>;</span>
<a id=__codelineno-11-5 name=__codelineno-11-5 href=#__codelineno-11-5></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\File</span> <span class=k>as</span> <span class=nx>FileCache</span><span class=p>;</span>
<a id=__codelineno-11-6 name=__codelineno-11-6 href=#__codelineno-11-6></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span> <span class=k>as</span> <span class=nx>DataFrontend</span><span class=p>;</span>
<a id=__codelineno-11-7 name=__codelineno-11-7 href=#__codelineno-11-7></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Memcache</span> <span class=k>as</span> <span class=nx>MemcacheCache</span><span class=p>;</span>
<a id=__codelineno-11-8 name=__codelineno-11-8 href=#__codelineno-11-8></a>
<a id=__codelineno-11-9 name=__codelineno-11-9 href=#__codelineno-11-9></a><span class=nv>$ultraFastFrontend</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DataFrontend</span><span class=p>(</span>
<a id=__codelineno-11-10 name=__codelineno-11-10 href=#__codelineno-11-10></a>    <span class=p>[</span>
<a id=__codelineno-11-11 name=__codelineno-11-11 href=#__codelineno-11-11></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>3600</span><span class=p>,</span>
<a id=__codelineno-11-12 name=__codelineno-11-12 href=#__codelineno-11-12></a>    <span class=p>]</span>
<a id=__codelineno-11-13 name=__codelineno-11-13 href=#__codelineno-11-13></a><span class=p>);</span>
<a id=__codelineno-11-14 name=__codelineno-11-14 href=#__codelineno-11-14></a>
<a id=__codelineno-11-15 name=__codelineno-11-15 href=#__codelineno-11-15></a><span class=nv>$fastFrontend</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DataFrontend</span><span class=p>(</span>
<a id=__codelineno-11-16 name=__codelineno-11-16 href=#__codelineno-11-16></a>    <span class=p>[</span>
<a id=__codelineno-11-17 name=__codelineno-11-17 href=#__codelineno-11-17></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>86400</span><span class=p>,</span>
<a id=__codelineno-11-18 name=__codelineno-11-18 href=#__codelineno-11-18></a>    <span class=p>]</span>
<a id=__codelineno-11-19 name=__codelineno-11-19 href=#__codelineno-11-19></a><span class=p>);</span>
<a id=__codelineno-11-20 name=__codelineno-11-20 href=#__codelineno-11-20></a>
<a id=__codelineno-11-21 name=__codelineno-11-21 href=#__codelineno-11-21></a><span class=nv>$slowFrontend</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>DataFrontend</span><span class=p>(</span>
<a id=__codelineno-11-22 name=__codelineno-11-22 href=#__codelineno-11-22></a>    <span class=p>[</span>
<a id=__codelineno-11-23 name=__codelineno-11-23 href=#__codelineno-11-23></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>604800</span><span class=p>,</span>
<a id=__codelineno-11-24 name=__codelineno-11-24 href=#__codelineno-11-24></a>    <span class=p>]</span>
<a id=__codelineno-11-25 name=__codelineno-11-25 href=#__codelineno-11-25></a><span class=p>);</span>
<a id=__codelineno-11-26 name=__codelineno-11-26 href=#__codelineno-11-26></a>
<a id=__codelineno-11-27 name=__codelineno-11-27 href=#__codelineno-11-27></a><span class=c1>// Backends are registered from the fastest to the slower</span>
<a id=__codelineno-11-28 name=__codelineno-11-28 href=#__codelineno-11-28></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Multiple</span><span class=p>(</span>
<a id=__codelineno-11-29 name=__codelineno-11-29 href=#__codelineno-11-29></a>    <span class=p>[</span>
<a id=__codelineno-11-30 name=__codelineno-11-30 href=#__codelineno-11-30></a>        <span class=k>new</span> <span class=nx>ApcCache</span><span class=p>(</span>
<a id=__codelineno-11-31 name=__codelineno-11-31 href=#__codelineno-11-31></a>            <span class=nv>$ultraFastFrontend</span><span class=p>,</span>
<a id=__codelineno-11-32 name=__codelineno-11-32 href=#__codelineno-11-32></a>            <span class=p>[</span>
<a id=__codelineno-11-33 name=__codelineno-11-33 href=#__codelineno-11-33></a>                <span class=s1>&#39;prefix&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;cache&#39;</span><span class=p>,</span>
<a id=__codelineno-11-34 name=__codelineno-11-34 href=#__codelineno-11-34></a>            <span class=p>]</span>
<a id=__codelineno-11-35 name=__codelineno-11-35 href=#__codelineno-11-35></a>        <span class=p>),</span>
<a id=__codelineno-11-36 name=__codelineno-11-36 href=#__codelineno-11-36></a>        <span class=k>new</span> <span class=nx>MemcacheCache</span><span class=p>(</span>
<a id=__codelineno-11-37 name=__codelineno-11-37 href=#__codelineno-11-37></a>            <span class=nv>$fastFrontend</span><span class=p>,</span>
<a id=__codelineno-11-38 name=__codelineno-11-38 href=#__codelineno-11-38></a>            <span class=p>[</span>
<a id=__codelineno-11-39 name=__codelineno-11-39 href=#__codelineno-11-39></a>                <span class=s1>&#39;prefix&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;cache&#39;</span><span class=p>,</span>
<a id=__codelineno-11-40 name=__codelineno-11-40 href=#__codelineno-11-40></a>                <span class=s1>&#39;host&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;localhost&#39;</span><span class=p>,</span>
<a id=__codelineno-11-41 name=__codelineno-11-41 href=#__codelineno-11-41></a>                <span class=s1>&#39;port&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;11211&#39;</span><span class=p>,</span>
<a id=__codelineno-11-42 name=__codelineno-11-42 href=#__codelineno-11-42></a>            <span class=p>]</span>
<a id=__codelineno-11-43 name=__codelineno-11-43 href=#__codelineno-11-43></a>        <span class=p>),</span>
<a id=__codelineno-11-44 name=__codelineno-11-44 href=#__codelineno-11-44></a>        <span class=k>new</span> <span class=nx>FileCache</span><span class=p>(</span>
<a id=__codelineno-11-45 name=__codelineno-11-45 href=#__codelineno-11-45></a>            <span class=nv>$slowFrontend</span><span class=p>,</span>
<a id=__codelineno-11-46 name=__codelineno-11-46 href=#__codelineno-11-46></a>            <span class=p>[</span>
<a id=__codelineno-11-47 name=__codelineno-11-47 href=#__codelineno-11-47></a>                <span class=s1>&#39;prefix&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;cache&#39;</span><span class=p>,</span>
<a id=__codelineno-11-48 name=__codelineno-11-48 href=#__codelineno-11-48></a>                <span class=s1>&#39;cacheDir&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;../app/cache/&#39;</span><span class=p>,</span>
<a id=__codelineno-11-49 name=__codelineno-11-49 href=#__codelineno-11-49></a>            <span class=p>]</span>
<a id=__codelineno-11-50 name=__codelineno-11-50 href=#__codelineno-11-50></a>        <span class=p>),</span>
<a id=__codelineno-11-51 name=__codelineno-11-51 href=#__codelineno-11-51></a>    <span class=p>]</span>
<a id=__codelineno-11-52 name=__codelineno-11-52 href=#__codelineno-11-52></a><span class=p>);</span>
<a id=__codelineno-11-53 name=__codelineno-11-53 href=#__codelineno-11-53></a>
<a id=__codelineno-11-54 name=__codelineno-11-54 href=#__codelineno-11-54></a><span class=c1>// Save, saves in every backend</span>
<a id=__codelineno-11-55 name=__codelineno-11-55 href=#__codelineno-11-55></a><span class=nv>$cache</span><span class=o>-&gt;</span><span class=na>save</span><span class=p>(</span><span class=s1>&#39;my-key&#39;</span><span class=p>,</span> <span class=nv>$data</span><span class=p>);</span>
</code></pre></div> <h2 id=frontend-adapters>Frontend Adapters<a class=headerlink href=#frontend-adapters title="Permanent link">&para;</a></h2> <p>The available frontend adapters that are used as interfaces or input sources to the cache are:</p> <table> <thead> <tr> <th>Adapter</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\Output</a></td> <td>Read input data from standard PHP output.</td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\Data</a></td> <td>It's used to cache any kind of PHP data (big arrays, objects, text, etc). Data is serialized before stored in the backend.</td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\Base64</a></td> <td>It's used to cache binary data. The data is serialized using <code>base64_encode</code> before be stored in the backend.</td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\Json</a></td> <td>Data is encoded in JSON before be stored in the backend. Decoded after be retrieved. This frontend is useful to share data with other languages or frameworks.</td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\Igbinary</a></td> <td>It's used to cache any kind of PHP data (big arrays, objects, text, etc). Data is serialized using <code>Igbinary</code> before be stored in the backend.</td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Frontend\None</a></td> <td>It's used to cache any kind of PHP data without serializing them.</td> </tr> </tbody> </table> <h3 id=implementing-your-own-frontend-adapters>Implementing your own Frontend adapters<a class=headerlink href=#implementing-your-own-frontend-adapters title="Permanent link">&para;</a></h3> <p>The <a href=../api/Phalcon_Cache/ >Phalcon\Cache\FrontendInterface</a> interface must be implemented in order to create your own frontend adapters or extend the existing ones.</p> <h2 id=backend-adapters>Backend Adapters<a class=headerlink href=#backend-adapters title="Permanent link">&para;</a></h2> <p>The backend adapters available to store cache data are:</p> <table> <thead> <tr> <th>Adapter</th> <th>Description</th> <th>Info</th> <th>Required Extensions</th> </tr> </thead> <tbody> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Apc</a></td> <td>Stores data to the Alternative PHP Cache (APC).</td> <td><a href=https://php.net/apc>APC</a></td> <td><a href=https://pecl.php.net/package/APC>APC</a></td> </tr> <tr> <td><code>Phalcon\Cache\Backend\Apcu</code></td> <td>Stores data to the APCu (APC without opcode caching)</td> <td><a href=https://php.net/apcu>APCu</a></td> <td><a href=https://pecl.php.net/package/APCu>APCu</a></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\File</a></td> <td>Stores data to local plain files.</td> <td></td> <td></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Libmemcached</a></td> <td>Stores data to a memcached server.</td> <td><a href=https://www.php.net/memcached>Memcached</a></td> <td><a href=https://pecl.php.net/package/memcached>Memcached</a></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Memcache</a></td> <td>Stores data to a memcached server.</td> <td><a href=https://www.php.net/memcache>Memcache</a></td> <td><a href=https://pecl.php.net/package/memcache>Memcache</a></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Memory</a></td> <td>Stores data in memory</td> <td></td> <td></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Mongo</a></td> <td>Stores data to Mongo Database.</td> <td><a href=https://mongodb.org/ >MongoDB</a></td> <td><a href=https://mongodb.org/ >Mongo</a></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Redis</a></td> <td>Stores data in Redis.</td> <td><a href=https://redis.io/ >Redis</a></td> <td><a href=https://pecl.php.net/package/redis>Redis</a></td> </tr> <tr> <td><a href=../api/Phalcon_Cache/ >Phalcon\Cache\Backend\Xcache</a></td> <td>Stores data in XCache.</td> <td>XCache</td> <td>XCache</td> </tr> </tbody> </table> <h5 class="alert alert-warning" id=note-in-php-7-to-use-phalcon-apc-based-adapter-classes-you-needed-to-install-apcu-and-apcu_bc-package-from-pecl-now-in-phalcon-340-you-can-switch-your-apc-classes-to-apcu-and-remove-apcu_bc-keep-in-mind-that-in-phalcon-4-we-will-most-likely-remove-all-apc-classes><strong>NOTE</strong> In PHP 7 to use phalcon <code>apc</code> based adapter classes you needed to install <code>apcu</code> and <code>apcu_bc</code> package from pecl. Now in Phalcon 3.4.0 you can switch your <code><em>\Apc</code> classes to <code></em>\Apcu</code> and remove <code>apcu_bc</code>. Keep in mind that in Phalcon 4 we will most likely remove all <code>*\Apc</code> classes.<a class=headerlink href=#note-in-php-7-to-use-phalcon-apc-based-adapter-classes-you-needed-to-install-apcu-and-apcu_bc-package-from-pecl-now-in-phalcon-340-you-can-switch-your-apc-classes-to-apcu-and-remove-apcu_bc-keep-in-mind-that-in-phalcon-4-we-will-most-likely-remove-all-apc-classes title="Permanent link">&para;</a></h5> <h3 id=factory_1>Factory<a class=headerlink href=#factory_1 title="Permanent link">&para;</a></h3> <p>There are many backend adapters (see <a href=#adapters-backend>Backend Adapters</a>). The one you use will depend on the needs of your application. The following example loads the Backend Cache Adapter class using <code>adapter</code> option, if frontend will be provided as array it will call Frontend Cache Factory</p> <div class=highlight><pre><span></span><code><a id=__codelineno-12-1 name=__codelineno-12-1 href=#__codelineno-12-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-12-2 name=__codelineno-12-2 href=#__codelineno-12-2></a>
<a id=__codelineno-12-3 name=__codelineno-12-3 href=#__codelineno-12-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Factory</span><span class=p>;</span>
<a id=__codelineno-12-4 name=__codelineno-12-4 href=#__codelineno-12-4></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span><span class=p>;</span>
<a id=__codelineno-12-5 name=__codelineno-12-5 href=#__codelineno-12-5></a>
<a id=__codelineno-12-6 name=__codelineno-12-6 href=#__codelineno-12-6></a><span class=nv>$options</span> <span class=o>=</span> <span class=p>[</span>
<a id=__codelineno-12-7 name=__codelineno-12-7 href=#__codelineno-12-7></a>    <span class=s1>&#39;prefix&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;app-data&#39;</span><span class=p>,</span>
<a id=__codelineno-12-8 name=__codelineno-12-8 href=#__codelineno-12-8></a>    <span class=s1>&#39;frontend&#39;</span> <span class=o>=&gt;</span> <span class=k>new</span> <span class=nx>Data</span><span class=p>(),</span>
<a id=__codelineno-12-9 name=__codelineno-12-9 href=#__codelineno-12-9></a>    <span class=s1>&#39;adapter&#39;</span>  <span class=o>=&gt;</span> <span class=s1>&#39;apc&#39;</span><span class=p>,</span>
<a id=__codelineno-12-10 name=__codelineno-12-10 href=#__codelineno-12-10></a><span class=p>];</span>
<a id=__codelineno-12-11 name=__codelineno-12-11 href=#__codelineno-12-11></a><span class=nv>$backendCache</span> <span class=o>=</span> <span class=nx>Factory</span><span class=o>::</span><span class=na>load</span><span class=p>(</span><span class=nv>$options</span><span class=p>);</span>
</code></pre></div> <h3 id=implementing-your-own-backend-adapters>Implementing your own Backend adapters<a class=headerlink href=#implementing-your-own-backend-adapters title="Permanent link">&para;</a></h3> <p>The <a href=../api/Phalcon_Cache/ >Phalcon\Cache\BackendInterface</a> interface must be implemented in order to create your own backend adapters or extend the existing ones.</p> <h3 id=file-backend-options>File Backend Options<a class=headerlink href=#file-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content into files in the local server. The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> <tr> <td><code>cacheDir</code></td> <td>A writable directory on which cached files will be placed.</td> </tr> </tbody> </table> <h3 id=libmemcached-backend-options>Libmemcached Backend Options<a class=headerlink href=#libmemcached-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on a memcached server. Per default persistent memcached connection pools are used. The available options for this backend are:</p> <p><strong>General options</strong></p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>statsKey</code></td> <td>Used to tracking of cached keys.</td> </tr> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> <tr> <td><code>persistent_id</code></td> <td>To create an instance that persists between requests, use <code>persistent_id</code> to specify a unique ID for the instance.</td> </tr> </tbody> </table> <p><strong>Servers options</strong></p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>host</code></td> <td>The <code>memcached</code> host.</td> </tr> <tr> <td><code>port</code></td> <td>The <code>memcached</code> port.</td> </tr> <tr> <td><code>weight</code></td> <td>The weight parameter effects the consistent hashing used to determine which server to read/write keys from.</td> </tr> </tbody> </table> <p><strong>Client options</strong></p> <p>Used for setting Memcached options. See <a href=https://php.net/manual/en/memcached.setoptions.php>Memcached::setOptions</a> for more.</p> <p><strong>Example</strong></p> <div class=highlight><pre><span></span><code><a id=__codelineno-13-1 name=__codelineno-13-1 href=#__codelineno-13-1></a><span class=o>&lt;?</span><span class=nx>php</span>
<a id=__codelineno-13-2 name=__codelineno-13-2 href=#__codelineno-13-2></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Backend\Libmemcached</span><span class=p>;</span>
<a id=__codelineno-13-3 name=__codelineno-13-3 href=#__codelineno-13-3></a><span class=k>use</span> <span class=nx>Phalcon\Cache\Frontend\Data</span> <span class=k>as</span> <span class=nx>FrontData</span><span class=p>;</span>
<a id=__codelineno-13-4 name=__codelineno-13-4 href=#__codelineno-13-4></a>
<a id=__codelineno-13-5 name=__codelineno-13-5 href=#__codelineno-13-5></a><span class=c1>// Cache data for 2 days</span>
<a id=__codelineno-13-6 name=__codelineno-13-6 href=#__codelineno-13-6></a><span class=nv>$frontCache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>FrontData</span><span class=p>(</span>
<a id=__codelineno-13-7 name=__codelineno-13-7 href=#__codelineno-13-7></a>    <span class=p>[</span>
<a id=__codelineno-13-8 name=__codelineno-13-8 href=#__codelineno-13-8></a>        <span class=s1>&#39;lifetime&#39;</span> <span class=o>=&gt;</span> <span class=mi>172800</span><span class=p>,</span>
<a id=__codelineno-13-9 name=__codelineno-13-9 href=#__codelineno-13-9></a>    <span class=p>]</span>
<a id=__codelineno-13-10 name=__codelineno-13-10 href=#__codelineno-13-10></a><span class=p>);</span>
<a id=__codelineno-13-11 name=__codelineno-13-11 href=#__codelineno-13-11></a>
<a id=__codelineno-13-12 name=__codelineno-13-12 href=#__codelineno-13-12></a><span class=c1>// Create the Cache setting memcached connection options</span>
<a id=__codelineno-13-13 name=__codelineno-13-13 href=#__codelineno-13-13></a><span class=nv>$cache</span> <span class=o>=</span> <span class=k>new</span> <span class=nx>Libmemcached</span><span class=p>(</span>
<a id=__codelineno-13-14 name=__codelineno-13-14 href=#__codelineno-13-14></a>    <span class=nv>$frontCache</span><span class=p>,</span>
<a id=__codelineno-13-15 name=__codelineno-13-15 href=#__codelineno-13-15></a>    <span class=p>[</span>
<a id=__codelineno-13-16 name=__codelineno-13-16 href=#__codelineno-13-16></a>        <span class=s1>&#39;servers&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-13-17 name=__codelineno-13-17 href=#__codelineno-13-17></a>            <span class=p>[</span>
<a id=__codelineno-13-18 name=__codelineno-13-18 href=#__codelineno-13-18></a>                <span class=s1>&#39;host&#39;</span>   <span class=o>=&gt;</span> <span class=s1>&#39;127.0.0.1&#39;</span><span class=p>,</span>
<a id=__codelineno-13-19 name=__codelineno-13-19 href=#__codelineno-13-19></a>                <span class=s1>&#39;port&#39;</span>   <span class=o>=&gt;</span> <span class=mi>11211</span><span class=p>,</span>
<a id=__codelineno-13-20 name=__codelineno-13-20 href=#__codelineno-13-20></a>                <span class=s1>&#39;weight&#39;</span> <span class=o>=&gt;</span> <span class=mi>1</span><span class=p>,</span>
<a id=__codelineno-13-21 name=__codelineno-13-21 href=#__codelineno-13-21></a>            <span class=p>],</span>
<a id=__codelineno-13-22 name=__codelineno-13-22 href=#__codelineno-13-22></a>        <span class=p>],</span>
<a id=__codelineno-13-23 name=__codelineno-13-23 href=#__codelineno-13-23></a>        <span class=s1>&#39;client&#39;</span> <span class=o>=&gt;</span> <span class=p>[</span>
<a id=__codelineno-13-24 name=__codelineno-13-24 href=#__codelineno-13-24></a>            <span class=nx>\Memcached</span><span class=o>::</span><span class=na>OPT_HASH</span>       <span class=o>=&gt;</span> <span class=nx>\Memcached</span><span class=o>::</span><span class=na>HASH_MD5</span><span class=p>,</span>
<a id=__codelineno-13-25 name=__codelineno-13-25 href=#__codelineno-13-25></a>            <span class=nx>\Memcached</span><span class=o>::</span><span class=na>OPT_PREFIX_KEY</span> <span class=o>=&gt;</span> <span class=s1>&#39;prefix.&#39;</span><span class=p>,</span>
<a id=__codelineno-13-26 name=__codelineno-13-26 href=#__codelineno-13-26></a>        <span class=p>],</span>
<a id=__codelineno-13-27 name=__codelineno-13-27 href=#__codelineno-13-27></a>        <span class=s1>&#39;persistent_id&#39;</span> <span class=o>=&gt;</span> <span class=s1>&#39;my_app_cache&#39;</span><span class=p>,</span>
<a id=__codelineno-13-28 name=__codelineno-13-28 href=#__codelineno-13-28></a>    <span class=p>]</span>
<a id=__codelineno-13-29 name=__codelineno-13-29 href=#__codelineno-13-29></a><span class=p>);</span>
</code></pre></div> <h3 id=memcache-backend-options>Memcache Backend Options<a class=headerlink href=#memcache-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on a memcached server. The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> <tr> <td><code>host</code></td> <td>The memcached host.</td> </tr> <tr> <td><code>port</code></td> <td>The memcached port.</td> </tr> <tr> <td><code>persistent</code></td> <td>Create a persistent connection to memcached?</td> </tr> </tbody> </table> <h3 id=apc-backend-options>APC Backend Options<a class=headerlink href=#apc-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on Alternative PHP Cache (<a href=https://php.net/apc>APC</a>). The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> </tbody> </table> <h3 id=apcu-backend-options>APCU Backend Options<a class=headerlink href=#apcu-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on Alternative PHP Cache (<a href=https://php.net/apcu>APCU</a>). The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> </tbody> </table> <h3 id=mongo-backend-options>Mongo Backend Options<a class=headerlink href=#mongo-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on a MongoDB server (<a href=https://mongodb.org/ >MongoDB</a>). The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> <tr> <td><code>server</code></td> <td>A MongoDB connection string.</td> </tr> <tr> <td><code>db</code></td> <td>Mongo database name.</td> </tr> <tr> <td><code>collection</code></td> <td>Mongo collection in the database.</td> </tr> </tbody> </table> <h3 id=xcache-backend-options>XCache Backend Options<a class=headerlink href=#xcache-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on XCache (XCache ). The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> </tbody> </table> <h3 id=redis-backend-options>Redis Backend Options<a class=headerlink href=#redis-backend-options title="Permanent link">&para;</a></h3> <p>This backend will store cached content on a Redis server (<a href=https://redis.io/ >Redis</a>). The available options for this backend are:</p> <table> <thead> <tr> <th>Option</th> <th>Description</th> </tr> </thead> <tbody> <tr> <td><code>prefix</code></td> <td>A prefix that is automatically prepended to the cache keys.</td> </tr> <tr> <td><code>host</code></td> <td>Redis host.</td> </tr> <tr> <td><code>port</code></td> <td>Redis port.</td> </tr> <tr> <td><code>auth</code></td> <td>Password to authenticate to a password-protected Redis server.</td> </tr> <tr> <td><code>persistent</code></td> <td>Create a persistent connection to Redis.</td> </tr> <tr> <td><code>index</code></td> <td>The index of the Redis database to use.</td> </tr> </tbody> </table> <p>There are more adapters available for this components in the <a href=https://github.com/phalcon/incubator>Phalcon Incubator</a></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg> Back to top </button> </main> <footer class=md-footer> <nav class="md-footer__inner md-grid" aria-label=Footer> <a href=../validation/ class="md-footer__link md-footer__link--prev" aria-label="Previous: Validation"> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg> </div> <div class=md-footer__title> <span class=md-footer__direction> Previous </span> <div class=md-ellipsis> Validation </div> </div> </a> <a href=../config/ class="md-footer__link md-footer__link--next" aria-label="Next: Config"> <div class=md-footer__title> <span class=md-footer__direction> Next </span> <div class=md-ellipsis> Config </div> </div> <div class="md-footer__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg> </div> </a> </nav> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2012 - present Phalcon Team </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://phalcon.io/discord target=_blank rel=noopener title=Discord class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M524.531 69.836a1.5 1.5 0 0 0-.764-.7A485.065 485.065 0 0 0 404.081 32.03a1.816 1.816 0 0 0-1.923.91 337.461 337.461 0 0 0-14.9 30.6 447.848 447.848 0 0 0-134.426 0 309.541 309.541 0 0 0-15.135-30.6 1.89 1.89 0 0 0-1.924-.91 483.689 483.689 0 0 0-119.688 37.107 1.712 1.712 0 0 0-.788.676C39.068 183.651 18.186 294.69 28.43 404.354a2.016 2.016 0 0 0 .765 1.375 487.666 487.666 0 0 0 146.825 74.189 1.9 1.9 0 0 0 2.063-.676A348.2 348.2 0 0 0 208.12 430.4a1.86 1.86 0 0 0-1.019-2.588 321.173 321.173 0 0 1-45.868-21.853 1.885 1.885 0 0 1-.185-3.126 251.047 251.047 0 0 0 9.109-7.137 1.819 1.819 0 0 1 1.9-.256c96.229 43.917 200.41 43.917 295.5 0a1.812 1.812 0 0 1 1.924.233 234.533 234.533 0 0 0 9.132 7.16 1.884 1.884 0 0 1-.162 3.126 301.407 301.407 0 0 1-45.89 21.83 1.875 1.875 0 0 0-1 2.611 391.055 391.055 0 0 0 30.014 48.815 1.864 1.864 0 0 0 2.063.7A486.048 486.048 0 0 0 610.7 405.729a1.882 1.882 0 0 0 .765-1.352c12.264-126.783-20.532-236.912-86.934-334.541ZM222.491 337.58c-28.972 0-52.844-26.587-52.844-59.239s23.409-59.241 52.844-59.241c29.665 0 53.306 26.82 52.843 59.239 0 32.654-23.41 59.241-52.843 59.241Zm195.38 0c-28.971 0-52.843-26.587-52.843-59.239s23.409-59.241 52.843-59.241c29.667 0 53.307 26.82 52.844 59.239 0 32.654-23.177 59.241-52.844 59.241Z"/></svg> </a> <a href=https://phalcon.io/discussions target=_blank rel=noopener title="GitHub Discussions" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9 22a1 1 0 0 1-1-1v-3H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2h-6.1l-3.7 3.71c-.2.19-.45.29-.7.29H9Z"/></svg> </a> <a href=https://phalcon.io/github target=_blank rel=noopener title="GitHub Project" class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://phalcon.io/telegram target=_blank rel=noopener title=Telegram class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M248 8C111.033 8 0 119.033 0 256s111.033 248 248 248 248-111.033 248-248S384.967 8 248 8Zm114.952 168.66c-3.732 39.215-19.881 134.378-28.1 178.3-3.476 18.584-10.322 24.816-16.948 25.425-14.4 1.326-25.338-9.517-39.287-18.661-21.827-14.308-34.158-23.215-55.346-37.177-24.485-16.135-8.612-25 5.342-39.5 3.652-3.793 67.107-61.51 68.335-66.746.153-.655.3-3.1-1.154-4.384s-3.59-.849-5.135-.5q-3.283.746-104.608 69.142-14.845 10.194-26.894 9.934c-8.855-.191-25.888-5.006-38.551-9.123-15.531-5.048-27.875-7.717-26.8-16.291q.84-6.7 18.45-13.7 108.446-47.248 144.628-62.3c68.872-28.647 83.183-33.623 92.511-33.789 2.052-.034 6.639.474 9.61 2.885a10.452 10.452 0 0 1 3.53 6.716 43.765 43.765 0 0 1 .417 9.769Z"/></svg> </a> <a href=https://phalcon.io/gab target=_blank rel=noopener title=Gab class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M368 32c41.7 0 75.9 31.8 79.7 72.5l85.6 26.3c25.4 7.8 42.8 31.3 42.8 57.9 0 21.8-11.7 41.9-30.7 52.7l-144.6 82.1 92.5 92.5H544c17.7 0 32 14.3 32 32s-14.3 32-32 32h-64c-8.5 0-16.6-3.4-22.6-9.4L346.9 360.2c11.7-36 3.2-77.1-25.4-105.7-40.6-40.6-106.3-40.6-146.9-.1l-73.6 70c-6.4 6.1-6.7 16.2-.6 22.6s16.2 6.6 22.6.6l73.8-70.2.1-.1.1-.1c3.5-3.5 7.3-6.6 11.3-9.2 27.9-18.5 65.9-15.4 90.5 9.2 24.7 24.7 27.7 62.9 9 90.9-2.6 3.8-5.6 7.5-9 10.9l-37 37H352c17.7 0 32 14.3 32 32s-14.3 32-32 32H64c-35.3 0-64-28.7-64-64C0 249.6 127 112.9 289.3 97.5 296.2 60.2 328.8 32 368 32zm0 104a24 24 0 1 0 0-48 24 24 0 1 0 0 48z"/></svg> </a> <a href=https://phalcon.io/t target=_blank rel=noopener title=Twitter class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M389.2 48h70.6L305.6 224.2 487 464H345L233.7 318.6 106.5 464H35.8l164.9-188.5L26.8 48h145.6l100.5 132.9L389.2 48zm-24.8 373.8h39.1L151.1 88h-42l255.3 333.8z"/></svg> </a> <a href=https://phalcon.io/fb target=_blank rel=noopener title=Facebook class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M512 256C512 114.6 397.4 0 256 0S0 114.6 0 256c0 120 82.7 220.8 194.2 248.5V334.2h-52.8V256h52.8v-33.7c0-87.1 39.4-127.5 125-127.5 16.2 0 44.2 3.2 55.7 6.4V172c-6-.6-16.5-1-29.6-1-42 0-58.2 15.9-58.2 57.2V256h83.6l-14.4 78.2H287v175.9C413.8 494.8 512 386.9 512 256z"/></svg> </a> <a href=https://phalcon.io/linkedin target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://phalcon.io/youtube target=_blank rel=noopener title=LinkedIn class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 576 512"><!-- Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <div class=md-progress data-md-component=progress role=progressbar></div> <script id=__config type=application/json>{"base": "..", "features": ["announce.dismiss", "content.action.edit", "content.action.view", "content.code.annotate", "content.code.copy", "content.code.select", "content.tooltips", "navigation.footer", "navigation.indexes", "navigation.instant", "navigation.instant.progress", "navigation.sections", "navigation.tabs", "navigation.tabs.sticky", "navigation.top", "navigation.tracking", "search.highlight", "search.share", "search.suggest", "toc.follow"], "search": "../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"default": "5.4.0", "provider": "mike"}}</script> <script src=../assets/javascripts/bundle.d7c377c4.min.js></script> </body> </html>